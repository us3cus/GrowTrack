import{e as h,r as u,c as l,o,a as e,j as k,i as S,v as T,k as C,t as a,F as D,l as L,d as n}from"./D6sS7DTd.js";import{a as f}from"./Dq7h7Pqt.js";import{_ as R}from"./DlAUqK2U.js";const V={class:"min-h-screen bg-gray-50 py-10"},j={class:"max-w-4xl mx-auto"},A={key:0,class:"flex flex-col items-center justify-center mt-20"},B={class:"bg-white p-8 rounded-xl shadow-md w-full max-w-sm"},M={key:0,class:"text-red-500 mt-3 text-center"},N={key:1},E={key:0,class:"text-center py-10 text-lg text-gray-500"},F={key:1},H={key:0,class:"text-center text-gray-500 py-10"},I={key:1,class:"space-y-8"},K=["onClick"],P={class:"mb-2"},$={class:"mb-2"},q={class:"mb-2"},G={class:"mb-2"},J={class:"mb-2"},O={class:"mb-2"},U={class:"mb-2"},W={class:"mb-2"},z={class:"mt-2"},Q=["innerHTML"],X={class:"text-xs text-gray-400 mt-2"},Y="growtrack2024",Z=h({__name:"view",setup(tt){const c=u(""),v=u(!1),r=u(""),d=u([]),m=u(!1),p=()=>{c.value===Y?(v.value=!0,g(),r.value=""):r.value="Неверный пароль"},g=async()=>{m.value=!0;try{const i=await f.get("http://localhost:3001/api/result/");d.value=i.data}catch{r.value="Ошибка загрузки данных"}finally{m.value=!1}},w=async i=>{if(confirm("Удалить результат?"))try{await f.delete(`http://localhost:3001/api/result/${i}`),d.value=d.value.filter(t=>t._id!==i)}catch{alert("Ошибка удаления")}};return(i,t)=>(o(),l("div",V,[e("div",j,[t[11]||(t[11]=e("h1",{class:"text-3xl font-bold mb-8 text-center"},"Просмотр всех результатов",-1)),v.value?(o(),l("div",N,[m.value?(o(),l("div",E,"Загрузка...")):(o(),l("div",F,[d.value.length===0?(o(),l("div",H,"Нет данных")):(o(),l("div",I,[(o(!0),l(D,null,L(d.value,s=>{var b,_,x,y;return o(),l("div",{key:s._id,class:"bg-white rounded-xl shadow p-6 border border-gray-200 relative"},[e("button",{onClick:et=>w(s._id),class:"absolute top-4 right-4 text-red-500 hover:text-red-700"},"Удалить",8,K),e("div",P,[t[2]||(t[2]=e("b",null,"Имя:",-1)),n(" "+a(s.name),1)]),e("div",$,[t[3]||(t[3]=e("b",null,"Возраст:",-1)),n(" "+a(s.age),1)]),e("div",q,[t[4]||(t[4]=e("b",null,"Email:",-1)),n(" "+a(s.email),1)]),e("div",G,[t[5]||(t[5]=e("b",null,"Telegram:",-1)),n(" "+a(s.telegram),1)]),e("div",J,[t[6]||(t[6]=e("b",null,"Тип личности:",-1)),n(" "+a((b=s.test)==null?void 0:b.personalityType),1)]),e("div",O,[t[7]||(t[7]=e("b",null,"Желаемая профессия:",-1)),n(" "+a((_=s.test)==null?void 0:_.dreamJob),1)]),e("div",U,[t[8]||(t[8]=e("b",null,"Навыки:",-1)),n(" "+a((x=s.test)==null?void 0:x.requiredSkills),1)]),e("div",W,[t[9]||(t[9]=e("b",null,"Полезные предметы:",-1)),n(" "+a((y=s.test)==null?void 0:y.usefulSubjects),1)]),e("details",z,[t[10]||(t[10]=e("summary",{class:"cursor-pointer text-purple-600"},"AI-анализ",-1)),e("div",{class:"prose max-w-none mt-2",innerHTML:s.aiResult},null,8,Q)]),e("div",X,"Создано: "+a(new Date(s.createdAt).toLocaleString()),1)])}),128))]))]))])):(o(),l("div",A,[e("div",B,[t[1]||(t[1]=e("label",{class:"block mb-2 text-lg font-medium"},"Введите пароль для доступа:",-1)),k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),type:"password",class:"w-full border border-gray-300 rounded-lg p-3 mb-4 focus:outline-none focus:ring-2 focus:ring-purple-400 text-black",placeholder:"Пароль",onKeyup:C(p,["enter"])},null,544),[[T,c.value]]),e("button",{onClick:p,class:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition"},"Войти"),r.value?(o(),l("div",M,a(r.value),1)):S("",!0)])]))])]))}}),at=R(Z,[["__scopeId","data-v-6c4d9deb"]]);export{at as default};
