import{e as k,r as u,c as l,a as t,j as h,i as S,v as T,k as C,t as o,F as D,l as L,o as a,d as n}from"./CRP4ui-9.js";import{a as f}from"./DZKyIIRX.js";import{_ as R}from"./DlAUqK2U.js";const V={class:"min-h-screen bg-gray-50 py-10"},j={class:"max-w-4xl mx-auto"},A={key:0,class:"flex flex-col items-center justify-center mt-20"},B={class:"bg-white p-8 rounded-xl shadow-md w-full max-w-sm"},M={key:0,class:"text-red-500 mt-3 text-center"},N={key:1},E={key:0,class:"text-center py-10 text-lg text-gray-500"},F={key:1},H={key:0,class:"text-center text-gray-500 py-10"},I={key:1,class:"space-y-8"},K=["onClick"],P={class:"mb-2"},$={class:"mb-2"},q={class:"mb-2"},G={class:"mb-2"},J={class:"mb-2"},O={class:"mb-2"},U={class:"mb-2"},W={class:"mb-2"},z={class:"mt-2"},Q=["innerHTML"],X={class:"text-xs text-gray-400 mt-2"},Y="growtrack2024",Z=k({__name:"view",setup(ee){const c=u(""),v=u(!1),r=u(""),d=u([]),m=u(!1),p=()=>{c.value===Y?(v.value=!0,g(),r.value=""):r.value="Неверный пароль"},g=async()=>{m.value=!0;try{const i=await f.get("/api/result/");d.value=i.data}catch{r.value="Ошибка загрузки данных"}finally{m.value=!1}},w=async i=>{if(confirm("Удалить результат?"))try{await f.delete(`/api/result/${i}`),d.value=d.value.filter(e=>e._id!==i)}catch{alert("Ошибка удаления")}};return(i,e)=>(a(),l("div",V,[t("div",j,[e[11]||(e[11]=t("h1",{class:"text-3xl font-bold mb-8 text-center"},"Просмотр всех результатов",-1)),v.value?(a(),l("div",N,[m.value?(a(),l("div",E,"Загрузка...")):(a(),l("div",F,[d.value.length===0?(a(),l("div",H,"Нет данных")):(a(),l("div",I,[(a(!0),l(D,null,L(d.value,s=>{var b,_,x,y;return a(),l("div",{key:s._id,class:"bg-white rounded-xl shadow p-6 border border-gray-200 relative"},[t("button",{onClick:te=>w(s._id),class:"absolute top-4 right-4 text-red-500 hover:text-red-700"},"Удалить",8,K),t("div",P,[e[2]||(e[2]=t("b",null,"Имя:",-1)),n(" "+o(s.name),1)]),t("div",$,[e[3]||(e[3]=t("b",null,"Возраст:",-1)),n(" "+o(s.age),1)]),t("div",q,[e[4]||(e[4]=t("b",null,"Email:",-1)),n(" "+o(s.email),1)]),t("div",G,[e[5]||(e[5]=t("b",null,"Telegram:",-1)),n(" "+o(s.telegram),1)]),t("div",J,[e[6]||(e[6]=t("b",null,"Тип личности:",-1)),n(" "+o((b=s.test)==null?void 0:b.personalityType),1)]),t("div",O,[e[7]||(e[7]=t("b",null,"Желаемая профессия:",-1)),n(" "+o((_=s.test)==null?void 0:_.dreamJob),1)]),t("div",U,[e[8]||(e[8]=t("b",null,"Навыки:",-1)),n(" "+o((x=s.test)==null?void 0:x.requiredSkills),1)]),t("div",W,[e[9]||(e[9]=t("b",null,"Полезные предметы:",-1)),n(" "+o((y=s.test)==null?void 0:y.usefulSubjects),1)]),t("details",z,[e[10]||(e[10]=t("summary",{class:"cursor-pointer text-purple-600"},"AI-анализ",-1)),t("div",{class:"prose max-w-none mt-2",innerHTML:s.aiResult},null,8,Q)]),t("div",X,"Создано: "+o(new Date(s.createdAt).toLocaleString()),1)])}),128))]))]))])):(a(),l("div",A,[t("div",B,[e[1]||(e[1]=t("label",{class:"block mb-2 text-lg font-medium"},"Введите пароль для доступа:",-1)),h(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"password",class:"w-full border border-gray-300 rounded-lg p-3 mb-4 focus:outline-none focus:ring-2 focus:ring-purple-400 text-black",placeholder:"Пароль",onKeyup:C(p,["enter"])},null,544),[[T,c.value]]),t("button",{onClick:p,class:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition"},"Войти"),r.value?(a(),l("div",M,o(r.value),1)):S("",!0)])]))])]))}}),ae=R(Z,[["__scopeId","data-v-53d13203"]]);export{ae as default};
